<!-- toobar -->
    <md-toolbar layout-align="space-between end">
        <div class="md-toolbar-tools" layout-align="space-between end">
            <md-button class="md-icon-button" ng-show="fbStatus == 0" aria-label="back" ng-click="back()" >
                    <!--md-icon flex md-svg-src="assets/img/menu.svg"></md-icon-->
                    <md-icon flex md-font-set="material-icons">arrow_back</md-icon>

            </md-button>
            <p>Dive session</p>
            <!--fill right space with a blank div -->
            <div ng-show="fbStatus == 0" style="height:48px; width:48px"></div>
            
        </div>
    </md-toolbar>
        
    <!-- fab button for add new dive or saving detail, depending on the tab, also the fab button is showned depending the follwoing condition:
    -ever shown if tab is detail tab
    -if tab if dive tab shown only if there is alreday saved dive session (e.g. divesession.id !=null-->
    <md-button class="md-fab md-fab-bottom-right" aria-label="Add" ng-click="tabAction()" 
               ng-show="(selectedIndex == 0) || (selectedIndex == 1 && divesession.id != null)"  >
            <md-icon icon="add" md-font-set="material-icons">{{actionIcon}}</md-icon>
    </md-button> 
            

    <!--Insert a progress circular to show during ajax call-->
    <div ng-show="spinner" layout="row" layout-align="center center"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div>
<md-content>
    <md-tabs md-dynamic-height md-dynamic-width md-border-bottom md-selected="selectedIndex" md-center-tabs="true">
        
        
    
    <!--**************************DIVE SESSION DETAIL SECTION*******************************-->
        <!-- this content is used to show dive session detail both for edit and display mode -->
    <md-tab label="Details">
        <md-content class="md-padding"> 

            <!--Insert a progress circular to show during ajax call-->
            <div ng-show="spinner" layout="row" layout-align="center center"><md-progress-circular md-mode="indeterminate">
            </md-progress-circular></div>
            <div  ng-show="!spinner">
                <form name="divesessionForm"> 
                    <div layout="column"> 
                        <md-datepicker name="divedate" ng-model="divesession.diveDate" md-placeholder="Date" required>
                        </md-datepicker>
                        <div ng-messages="divesessionForm.divedate.$error" ng-show="divesessionForm.divedate.$dirty">
                        </div>

                        <md-input-container > 
                            <label>Location</label> 
                            <input name="location" ng-model="divesession.location" required> 
                            <div ng-messages="divesessionForm.location.$error" ng-show="divesessionForm.location.$dirty">
                                <div ng-message="required">Required!</div>
                            </div>
                        </md-input-container> 

                        <md-input-container > 
                            <label>Meteo</label> 
                            <input ng-model="divesession.meteo"> 
                        </md-input-container> 
                        <md-input-container > 
                            <label>Equipment</label> 
                            <input ng-model="divesession.equipment"> 
                        </md-input-container>
                    <!--/div-->
                    <div layout="row">
                            <md-input-container > 
                                <label>Location depth</label> 
                                <input ng-model="divesession.depth"> 
                            </md-input-container> 
                            <md-input-container > 
                                <label>Surf.temp</label> 
                                <input ng-model="divesession.temp"> 
                            </md-input-container> 
                            <md-input-container > 
                                <label>Weight</label> 
                                <input ng-model="divesession.weight"> 
                            </md-input-container> 
                    </div>
                    <md-input-container > 
                                <label>Note</label> 
                                <textarea ng-model="divesession.note" columns="1" md-maxlength="150"></textarea> 
                    </md-input-container> 
                 </div>
              </form> 
            </div>
        </md-content> 
    </md-tab>    
        <!--************************DIVES LIST SECTION**********************************************-->
        <!-- content contains divesession list -->
    <md-tab label="Dives">
      <md-content flex>
          <div><span>Show divesession detail</span></div>
            <md-list>
                <md-list-item class="md-3-line" ng-repeat="dive in divesession.dives | orderBy : '-diveDate'">
                    <img ng-src="assets/img/twitter_diver.png" class="md-avatar" alt="diver">
                    <!--md-icon flex md-font-set="material-icons">pool</md-icon-->
                    <div layout="column" class="md-list-item-text">
                        <div layout="row" layout-align="space-between end">
                            <h4><b>{{diveSession.location}}</b></h4> <h4>{{diveSession.diveDate | date: 'dd-MM-yyyy'}}</h4>
                        </div>
                        <div layout="row" layout-align="space-between center"> 
                            <p class="md-caption">depth:{{diveSession.getDepth(freediver.depthUnit)}}</p>
                            <p>temp:{{diveSession.getTemp(freediver.tempUnit)}}</p>
                            <p>weight:{{diveSession.getWeight(freediver.weightUnit)}}</p>
                        </div>
                        <p><i>{{diveSession.note | limitTo:45}}...</i></p>
                    </div> 
                    <md-divider></md-divider>
                </md-list-item>

            </md-list>
        </md-content>
    </md-tab> 
        
        <!-************************STATISTICS **********************************-->
        <md-tab label="Statistics">
        </md-tab>
       
  </md-tabs>
</md-content>